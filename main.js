(()=>{var t={13:(t,e,a)=>{const r=a(113);t.exports=class{constructor(){this.board=this.createGrid(),this.allShips=[],this.createGrid()}createGrid(){this.board=[];for(let t=0;t<10;t++){this.board[t]=[];for(let e=0;e<10;e++)this.board[t].push({hasShip:"",isShot:!1})}}placeShip(t,e,a){if(!this.checkShipPlacementValidity(t,e,a))return;const o=this.getShipId(),s=new r(t,o);this.allShips.push(s);let i=e[0],c=e[1];for(let e=0;e<t;e++)this.board[i][c].hasShip=o,"vertical"===a?i++:c++}recieveAttack(t){console.log("receiveAttack");const e=t[0],a=t[1];if(!this.board[e][a].isShot&&(this.board[e][a].isShot=!0,console.log(this.board[e][a].isShot),this.checkHasShip(e,a))){const r=this.getAttackedShip(e,a);r.hit(t),r.checkSunkState()}}checkShipPlacementValidity(t,e,a){const r=e[0],o=e[1];return"vertical"===a?!(o>10-t):!(r>10-t)}getShipId(){return this.allShips.length}checkHasShip(t,e){return""!==this.board[t][e].hasShip}getAttackedShip(t,e){const a=Number(this.board[t][e].hasShip);return this.allShips[a]}checkAllShipsAreSunk(){return this.allShips.filter((t=>t.isSunk)).length===this.allShips.length}}},926:(t,e,a)=>{const r=a(13);t.exports=class{constructor(t){this.name=t,this.gameboard=new r,this.moves=[]}attack(t,e){console.log("attak pplayer"),console.log(e),t.gameboard.recieveAttack(e)}getRandomCoord(){let t=`0${Math.floor(100*Math.random())}`;return t=t.slice(-2),this.moves.includes(t)?this.getRandomCoord():(this.moves.push(t),t.split("").map(Number))}}},113:t=>{t.exports=class{constructor(t,e){this.shipId=e,this.length=t,this.hits=[],this.isSunk=!1}hit(t){this.hits.push(t)}checkSunkState(){this.length===this.hits.length&&(this.isSunk=!0)}}}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,a),s.exports}(()=>{"use strict";const t=(()=>{const t=(t,e,a)=>{"computer"===t.name?document.querySelector(`#computer-grid [data-row="${e}"][data-col="${a}"]`).classList.add("red-mark"):document.querySelector(`#human-grid [data-row="${e}"][data-col="${a}"]`).classList.add("red-mark")},e=(t,e,a)=>{"computer"===t.name?document.querySelector(`#computer-grid [data-row="${e}"][data-col="${a}"]`).classList.add("missed-mark"):document.querySelector(`#human-grid [data-row="${e}"][data-col="${a}"]`).classList.add("missed-mark")},a=(t,e,a)=>{"computer"===t.name?document.querySelector(`#computer-grid [data-row="${e}"][data-col="${a}"]`).classList.add("ship-mark"):document.querySelector(`#human-grid [data-row="${e}"][data-col="${a}"]`).classList.add("ship-mark")};return{createBoard:()=>{const t=document.getElementById("human-grid"),e=document.getElementById("computer-grid");for(let a=0;a<10;a++)for(let r=0;r<10;r++){const o=document.createElement("div");o.classList.add("tile"),o.dataset.row=a,o.dataset.col=r;const s=o.cloneNode();t.appendChild(s),e.appendChild(o)}},render:r=>{console.log(r);for(let o=0;o<10;o++)for(let s=0;s<10;s++)r.gameboard.board[o][s].isShot&&""!==r.gameboard.board[o][s].hasShip?t(r,o,s):r.gameboard.board[o][s].isShot&&""===r.gameboard.board[o][s].hasShip&&e(r,o,s),""!==r.gameboard.board[o][s].hasShip&&a(r,o,s)}}})(),e=a(926),r=(()=>{const a=new e(0),r=new e("computer"),o=t=>{t.gameboard.placeShip(5,[0,0],"horizontal"),t.gameboard.placeShip(4,[3,1],"vertical"),t.gameboard.placeShip(2,[8,1],"horizontal"),t.gameboard.placeShip(2,[8,8],"vertical"),t.gameboard.placeShip(2,[2,9],"vertical")};return{startGame:()=>{o(a),o(r),t.render(a),t.render(r)},startAttack:(e,o)=>{a.attack(r,[e,o]),t.render(r,e,o)}}})(),o={startButtonEvent:()=>{document.getElementById("start").addEventListener("click",(()=>{r.startGame(),document.querySelectorAll("#computer-grid .tile").forEach((t=>{t.addEventListener("click",(t=>{(t=>{console.log(t.target)})(t);const e=Number(t.target.dataset.row),a=Number(t.target.dataset.col);console.log(e),console.log(a),r.startAttack(e,a)}))}))}))}};t.createBoard(),o.startButtonEvent()})()})();